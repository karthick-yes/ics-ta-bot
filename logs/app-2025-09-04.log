{"timestamp":"2025-09-04T06:54:45.538Z","level":"INFO","message":"Redis client connected to the server","pid":12304}
{"timestamp":"2025-09-04T06:54:45.571Z","level":"INFO","message":"Redis client ready to use","pid":12304}
{"timestamp":"2025-09-04T06:54:45.576Z","level":"INFO","message":"Redis connection established successfully","pid":12304}
{"timestamp":"2025-09-04T06:54:45.582Z","level":"INFO","message":"Redis test successful:","data":{"testValue":"test_value"},"pid":12304}
{"timestamp":"2025-09-04T06:54:45.618Z","level":"ERROR","message":"Failed to connect to Redis:","data":{"error":"Socket already opened","redisUrl":"SET"},"pid":12304}
{"timestamp":"2025-09-04T06:54:45.623Z","level":"INFO","message":"Redis test successful:","data":{"testValue":"test_value"},"pid":12304}
{"timestamp":"2025-09-04T06:54:45.629Z","level":"INFO","message":"Server is running on http://localhost:3000","pid":12304}
{"timestamp":"2025-09-04T06:54:45.630Z","level":"INFO","message":"Prometheus metrics available at http://localhost:3000/metrics","pid":12304}
{"timestamp":"2025-09-04T06:54:45.630Z","level":"INFO","message":"Authentication required - visit http://localhost:3000/auth.html to login","pid":12304}
{"timestamp":"2025-09-04T06:54:45.631Z","level":"INFO","message":"Using Gemini AI model exclusively","pid":12304}
{"timestamp":"2025-09-04T06:54:46.637Z","level":"INFO","message":"Email service connected successfully","data":{"user":"ics.learning.ashoka@***"},"pid":12304}
{"timestamp":"2025-09-04T06:54:59.030Z","level":"INFO","message":"Session Debug:","data":{"sessionId":"0ejF1SR6rmyD71VSJ3Z7lSpCXulq4m0q","hasAuthToken":false,"hasChatHistory":false,"chatHistoryLength":0,"sessionKeys":["cookie"],"redisConnected":true,"redisStatus":true},"pid":12304}
{"timestamp":"2025-09-04T06:54:59.033Z","level":"INFO","message":"POST /api/start","data":{"sessionId":"0ejF1SR6rmyD71VSJ3Z7lSpCXulq4m0q","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36","ip":"::1"},"pid":12304}
{"timestamp":"2025-09-04T06:54:59.045Z","level":"INFO","message":"GET /favicon.ico","data":{"sessionId":"akZVie-YLlvz8r6aQnai5IKZRjNH3iRj","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36","ip":"::1"},"pid":12304}
{"timestamp":"2025-09-04T06:55:04.100Z","level":"INFO","message":"Session Debug:","data":{"sessionId":"oi8Mq8F-L_uktQG5LMKnXBDilGe3W-80","hasAuthToken":false,"hasChatHistory":false,"chatHistoryLength":0,"sessionKeys":["cookie"],"redisConnected":true,"redisStatus":true},"pid":12304}
{"timestamp":"2025-09-04T06:55:04.103Z","level":"INFO","message":"POST /api/auth/request-verification","data":{"sessionId":"oi8Mq8F-L_uktQG5LMKnXBDilGe3W-80","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36","ip":"::1"},"pid":12304}
{"timestamp":"2025-09-04T06:55:07.019Z","level":"INFO","message":"Verification email sent","data":{"to":"ics.learning.ashoka@gmail.com"},"pid":12304}
{"timestamp":"2025-09-04T06:55:07.022Z","level":"INFO","message":"Verification code sent","data":{"email":"ics.learning.ashoka@gmail.com"},"pid":12304}
{"timestamp":"2025-09-04T06:55:30.878Z","level":"INFO","message":"Session Debug:","data":{"sessionId":"9Rt88nDPxLsrexyQQ54z8XIihroVe3BU","hasAuthToken":false,"hasChatHistory":false,"chatHistoryLength":0,"sessionKeys":["cookie"],"redisConnected":true,"redisStatus":true},"pid":12304}
{"timestamp":"2025-09-04T06:55:30.882Z","level":"INFO","message":"POST /api/auth/verify","data":{"sessionId":"9Rt88nDPxLsrexyQQ54z8XIihroVe3BU","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36","ip":"::1"},"pid":12304}
{"timestamp":"2025-09-04T06:55:31.139Z","level":"INFO","message":"User authenticated successfully","data":{"email":"ics.learning.ashoka@gmail.com"},"pid":12304}
{"timestamp":"2025-09-04T06:55:32.744Z","level":"INFO","message":"Session Debug:","data":{"sessionId":"9Rt88nDPxLsrexyQQ54z8XIihroVe3BU","hasAuthToken":true,"hasChatHistory":false,"chatHistoryLength":0,"sessionKeys":["cookie","authToken"],"redisConnected":true,"redisStatus":true},"pid":12304}
{"timestamp":"2025-09-04T06:55:32.748Z","level":"INFO","message":"POST /api/start","data":{"sessionId":"9Rt88nDPxLsrexyQQ54z8XIihroVe3BU","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36","ip":"::1"},"pid":12304}
{"timestamp":"2025-09-04T06:55:32.753Z","level":"INFO","message":"New Gemini session created","data":{"userEmail":"ics.learning.ashoka@gmail.com","sessionId":"9Rt88nDPxLsrexyQQ54z8XIihroVe3BU"},"pid":12304}
{"timestamp":"2025-09-04T06:56:22.595Z","level":"INFO","message":"Session Debug:","data":{"sessionId":"9Rt88nDPxLsrexyQQ54z8XIihroVe3BU","hasAuthToken":true,"hasChatHistory":true,"chatHistoryLength":0,"sessionKeys":["cookie","authToken","chatHistory"],"redisConnected":true,"redisStatus":true},"pid":12304}
{"timestamp":"2025-09-04T06:56:22.596Z","level":"INFO","message":"POST /api/query","data":{"sessionId":"9Rt88nDPxLsrexyQQ54z8XIihroVe3BU","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36","ip":"::1"},"pid":12304}
{"timestamp":"2025-09-04T06:56:25.095Z","level":"INFO","message":"No relevant context found","data":{"promptLength":8},"pid":12304}
{"timestamp":"2025-09-04T06:56:26.166Z","level":"INFO","message":"Gemini response generated successfully","data":{"promptLength":8,"responseLength":76,"historyLength":2,"contextUsed":false},"pid":12304}
{"timestamp":"2025-09-04T06:56:26.167Z","level":"INFO","message":"Admin query recorded (not counted towards limit)","data":{"email":"ics.learning.ashoka@gmail.com"},"pid":12304}
{"timestamp":"2025-09-04T06:56:26.168Z","level":"INFO","message":"Interaction logged for session 9Rt88nDPxLsrexyQQ54z8XIihroVe3BU","pid":12304}
{"timestamp":"2025-09-04T06:56:51.435Z","level":"INFO","message":"Session Debug:","data":{"sessionId":"9Rt88nDPxLsrexyQQ54z8XIihroVe3BU","hasAuthToken":true,"hasChatHistory":true,"chatHistoryLength":2,"sessionKeys":["cookie","authToken","chatHistory"],"redisConnected":true,"redisStatus":true},"pid":12304}
{"timestamp":"2025-09-04T06:56:51.437Z","level":"INFO","message":"POST /api/query","data":{"sessionId":"9Rt88nDPxLsrexyQQ54z8XIihroVe3BU","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36","ip":"::1"},"pid":12304}
{"timestamp":"2025-09-04T06:56:55.009Z","level":"INFO","message":"No relevant context found","data":{"promptLength":32},"pid":12304}
{"timestamp":"2025-09-04T06:56:56.283Z","level":"INFO","message":"Gemini response generated successfully","data":{"promptLength":32,"responseLength":303,"historyLength":4,"contextUsed":false},"pid":12304}
{"timestamp":"2025-09-04T06:56:56.284Z","level":"INFO","message":"Admin query recorded (not counted towards limit)","data":{"email":"ics.learning.ashoka@gmail.com"},"pid":12304}
{"timestamp":"2025-09-04T06:56:56.288Z","level":"INFO","message":"Interaction logged for session 9Rt88nDPxLsrexyQQ54z8XIihroVe3BU","pid":12304}
{"timestamp":"2025-09-04T06:57:48.052Z","level":"INFO","message":"Redis client connected to the server","pid":31932}
{"timestamp":"2025-09-04T06:57:48.103Z","level":"INFO","message":"Redis client ready to use","pid":31932}
{"timestamp":"2025-09-04T06:57:48.105Z","level":"INFO","message":"Redis connection established successfully","pid":31932}
{"timestamp":"2025-09-04T06:57:48.116Z","level":"INFO","message":"Redis test successful:","data":{"testValue":"test_value"},"pid":31932}
{"timestamp":"2025-09-04T06:57:48.155Z","level":"ERROR","message":"Failed to connect to Redis:","data":{"error":"Socket already opened","redisUrl":"SET"},"pid":31932}
{"timestamp":"2025-09-04T06:57:48.161Z","level":"INFO","message":"Redis test successful:","data":{"testValue":"test_value"},"pid":31932}
{"timestamp":"2025-09-04T06:57:48.171Z","level":"INFO","message":"Server is running on http://localhost:3000","pid":31932}
{"timestamp":"2025-09-04T06:57:48.172Z","level":"INFO","message":"Prometheus metrics available at http://localhost:3000/metrics","pid":31932}
{"timestamp":"2025-09-04T06:57:48.173Z","level":"INFO","message":"Authentication required - visit http://localhost:3000/auth.html to login","pid":31932}
{"timestamp":"2025-09-04T06:57:48.174Z","level":"INFO","message":"Using Gemini AI model exclusively","pid":31932}
{"timestamp":"2025-09-04T06:57:49.228Z","level":"INFO","message":"Email service connected successfully","data":{"user":"ics.learning.ashoka@***"},"pid":31932}
{"timestamp":"2025-09-04T06:57:58.190Z","level":"INFO","message":"Session Debug:","data":{"sessionId":"9Rt88nDPxLsrexyQQ54z8XIihroVe3BU","hasAuthToken":true,"hasChatHistory":true,"chatHistoryLength":4,"sessionKeys":["cookie","authToken","chatHistory"],"redisConnected":true,"redisStatus":true},"pid":31932}
{"timestamp":"2025-09-04T06:57:58.196Z","level":"INFO","message":"POST /api/feedback","data":{"sessionId":"9Rt88nDPxLsrexyQQ54z8XIihroVe3BU","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36","ip":"::1"},"pid":31932}
{"timestamp":"2025-09-04T06:57:58.211Z","level":"INFO","message":"Feedback submission debug:","data":{"userEmail":"ics.learning.ashoka@gmail.com","sessionId":"9Rt88nDPxLsrexyQQ54z8XIihroVe3BU","sessionAge":86338078,"hasHistory":true,"historyLength":4,"historyPreview":[{"role":"user","parts":[{"text":"say more buddy what you all upto"}]},{"role":"model","parts":[{"text":"I'm here to help you learn the material in CS-1102! I can answer questions about concepts, help you understand problem statements, offer debugging tips, and guide you through proofs.\n\nBefore we dive in, what are *you* working on right now? Is there a specific topic or assignment you'd like to discuss?\n"}]}],"redisConnected":true,"sessionKeys":["cookie","authToken","chatHistory"]},"pid":31932}
{"timestamp":"2025-09-04T06:58:01.249Z","level":"INFO","message":"Email sent successfully","data":{"to":"ics.learning.ashoka@gmail.com","subject":"🚨 ICS TA Bot Report - general_feedback (LOW)","messageId":"<c950ac69-9de4-cd6d-950d-832ceeea03e7@gmail.com>"},"pid":31932}
{"timestamp":"2025-09-04T06:58:01.251Z","level":"INFO","message":"Feedback notification sent","data":{"reportId":"report_1756969078216_0nenynk2l"},"pid":31932}
{"timestamp":"2025-09-04T06:58:01.253Z","level":"INFO","message":"Feedback report submitted to Redis","data":{"reportId":"report_1756969078216_0nenynk2l","userEmail":"ics.learning.ashoka@gmail.com"},"pid":31932}
{"timestamp":"2025-09-04T06:58:01.255Z","level":"INFO","message":"Feedback submitted successfully:","data":{"userEmail":"ics.learning.ashoka@gmail.com","reportId":"report_1756969078216_0nenynk2l","conversationLength":4},"pid":31932}
{"timestamp":"2025-09-04T07:04:46.478Z","level":"INFO","message":"Session Debug:","data":{"sessionId":"9Rt88nDPxLsrexyQQ54z8XIihroVe3BU","hasAuthToken":true,"hasChatHistory":true,"chatHistoryLength":4,"sessionKeys":["cookie","authToken","chatHistory"],"redisConnected":true,"redisStatus":true},"pid":31932}
{"timestamp":"2025-09-04T07:04:46.481Z","level":"INFO","message":"POST /api/query","data":{"sessionId":"9Rt88nDPxLsrexyQQ54z8XIihroVe3BU","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36","ip":"::1"},"pid":31932}
{"timestamp":"2025-09-04T07:04:49.288Z","level":"INFO","message":"Added context to prompt","data":{"originalPromptLength":61,"contextChunks":3,"fullPromptLength":4365,"contextPreview":"aalok thakkar: introduction to computer science\n \t\t\t\n\n \t\t\t\n\n                \n                    \n                       summer 2025: cs-1102\n                    \n                \n\n                \n  "},"pid":31932}
{"timestamp":"2025-09-04T07:04:50.932Z","level":"INFO","message":"Gemini response generated successfully","data":{"promptLength":61,"responseLength":476,"historyLength":6,"contextUsed":true},"pid":31932}
{"timestamp":"2025-09-04T07:04:50.938Z","level":"INFO","message":"Admin query recorded (not counted towards limit)","data":{"email":"ics.learning.ashoka@gmail.com"},"pid":31932}
{"timestamp":"2025-09-04T07:04:50.942Z","level":"INFO","message":"Interaction logged for session 9Rt88nDPxLsrexyQQ54z8XIihroVe3BU","pid":31932}
